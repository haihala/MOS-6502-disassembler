<html>

<head>
    <!-- HTMX is used for minor interactivity without a full reload -->
    <script src="https://unpkg.com/htmx.org@2.0.1"></script>

    <!-- As there is not that much css, it's easier to keep it here -->
    <style>
        body {
            display: flex;
            justify-content: center;
            max-height: 100vh;
            margin: 0;
        }

        main {
            max-width: 40rem;
            padding: 2rem;
            margin: 2rem;
            /*Eggshell*/
            background-color: #f0ead6;

            display: flex;
            flex-direction: column;
        }

        .fileUpload {
            width: 100%;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        textarea {
            min-height: 5rem;
        }

        .disassemble {
            margin: 1rem 0;
        }

        .output {
            border: solid #888888;
            overflow-y: scroll;
        }

        /* Table will be brought in by the htmx when button is clicked*/
        table {
            width: 100%;
        }

        thead tr {
            background-color: #999999;
        }

        tbody tr:nth-child(odd) {
            background-color: #eeeeee;
        }

        tbody tr:nth-child(even) {
            background-color: #aaaaaa;
        }

        td {
            padding: 0 0.5rem;
        }
    </style>
</head>

<body>
    <main>
        <h1>MOS 6502 disassembler</h1>
        <p>
            To use the disassembler, either enter your binary file into the file
            input and click upload or manually enter hexadecimal bytes to the
            textarea. After the text area has bytes, click the "Disassemble!"
            button. Whitespace will be ignored, so you can format the bytes how you
            wish.
        </p>
        <form hx-post="/decode" hx-encoding="multipart/form-data" hx-target="[name='bytes']" class="fileUpload">
            <input type="file" name="file" />
            <button>upload</button>
        </form>
        <textarea name="bytes"></textarea>
        <button hx-get="/table" hx-include="[name='bytes']" hx-target=".output" class="disassemble">
            Disassemble!
        </button>
        <div class="output"></div>
    </main>
</body>

</html>
